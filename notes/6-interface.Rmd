# Notes

bit.ly/build-tt

`notes/6-interface.Rmd`

# Function interface

## Plan

* Intro to function interface
*
*

Goal: How do you make a package (functions) that is easy and pleasant to use?

* Interface: outside of the function. All the parts of a function that the user will see and interact with.
* Implementation: inside of the function. Specifics of how your algorithm is carried out.

Draws from: <http://design.tidyverse.org/>

## Your Turn: Poll

What are the properties of a function that define its interface? (Hint: There are at least 9!)

Time: 3 minutes

* Function name 
* Arguments (inputs)
  * Name
  * Types
  * Defaults 
* Output 
* Errors
* Side effects
  * Copy things to clipboard
  * Messages 
  * Save/write files
  
## Case study: base R string functions vs. stringr functions

Base R string functions are not wrong or bad! All functions can be improved, and it's useful to critique existing work. 

### Your Turn: Breakout rooms

Time: 10 minutes

Discussion:
* Critique the interface of the base R string functions.
  * Think particularly about names and arguments. 

Then:
* Answer the sli.do questions

```{r, eval = FALSE}
strsplit(x, split, ...)
grep(pattern, x, value = FALSE, ...)
grepl(pattern, x, ...)
sub(pattern, replacement, x, ...)
regexpr(pattern, text, ...)
gregexpr(pattern, text, ...)
substr(x, start, stop)
```

* Names
  * Kind of cryptic. Confusing. They are concise. 
  * No common theme. No common prefix. 
  * Difficult to distinguish. Hard to remember their differences. 

* Arguments
  * Names aren't consistent (sometimes `x`, sometimes `text`)
  * Order isn't consistent
  * Confusing
  
Possibility for error, also possibility for frustration and confusion. 

## Names

The name of a function a very important part of the interface.

* The first thing you interact with.
* The clue about what the function does. 
* Key to remembering what the function is supposed to do. 
* Looking up documentation. 

Guidelines: Function names should:

* Probably be verbs. 
* Be clear and concise. 
* Distinguish one function from related functions. 

### Your Turn: Breakout rooms

1. Match the following functions and arguments to their stringr equivalents.
2. What are some issues with the base R function names?
3. What are some issues with the stringr function names?

Evaluate on our three guidelines. 

Time: 8 minutes

```{r}
grepl(value = TRUE) 
grep()              
grepl()           
sub()             
gsub()            
strsplit()        
regexpr()         
```



